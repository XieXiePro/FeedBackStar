require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([5],{25:function(e,t,s){"use strict";var n=o(s(2)),i=o(s(26));function o(e){return e&&e.__esModule?e:{default:e}}Page((0,n.default)(i.default))},26:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(28),i=s.n(n),o=s(29),a=!1;var u=function(e){a||s(27)},c=s(0)(i.a,o.a,u,null,null);c.options.__file="E:\\uniapp\\FeedBackStar\\pages\\user\\mine.vue",c.esModule&&Object.keys(c.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] mine.vue: functional components are not supported with templates, they should use render functions."),t.default=c.exports},27:function(e,t){},28:function(e,t,s){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=o(s(31)),i=o(s(35));function o(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{style:{pageHeight:0,contentViewHeight:0,footViewHeight:90,mitemHeight:0},scrollTop:0,messages:[{user:"home",type:"head",content:"你好!"}]}},components:{chatInput:n.default,messageShow:i.default},created:function(){var t=e.getSystemInfoSync();this.style.pageHeight=t.windowHeight,this.style.contentViewHeight=t.windowHeight-e.getSystemInfoSync().screenWidth/750*100},methods:{getInputMessage:function(e){this.addMessage("customer",e.content,!1),this.toRobot(e.content)},addMessage:function(e,t,s,n){this.messages.push({user:e,content:t,hasSub:s,subcontent:n})},scrollToBottom:function(){var t=this,s=e.createSelectorQuery();s.selectAll(".m-item").boundingClientRect(),s.select("#scrollview").boundingClientRect(),s.exec(function(e){t.style.mitemHeight=0,e[0].forEach(function(e){t.style.mitemHeight=t.style.mitemHeight+e.height+20}),t.style.mitemHeight>t.style.contentViewHeight&&(t.scrollTop=t.style.mitemHeight-t.style.contentViewHeight)})},toRobot:function(t){var s=this;e.request({url:"http://www.tuling123.com/openapi/api",data:{key:"0f35e44683794241b5fb0d61bf09713e",info:t,userid:"uni-test"},success:function(e){s.addMessage("home",e.data.text,!1),s.scrollToBottom(),console.log("request success:"+e.data.text)},fail:function(t){console.log("request fail",t),e.showModal({content:t.errMsg,showCancel:!1})}})}}}}).call(t,s(13).default)},29:function(e,t,s){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:"uni-column"},[t("view",{staticClass:"content",style:{height:this.style.contentViewHeight+"px"},attrs:{id:"content"}},[t("scroll-view",{style:{height:this.style.contentViewHeight+"px"},attrs:{id:"scrollview","scroll-y":"true","scroll-with-animation":!0,"scroll-top":this.scrollTop}},[this._l(this.messages,function(e,s){return t("message-show",{key:s,attrs:{message:e,id:s,mpcomid:"1pE-0-"+s}})}),t("view",{attrs:{id:"bottom"}})],2)],1),t("view",{staticClass:"foot"},[t("chat-input",{attrs:{eventid:"PiD-0",mpcomid:"Rdo-1"},on:{"send-message":this.getInputMessage}})],1)])};n._withStripped=!0;var i={render:n,staticRenderFns:[]};t.a=i},31:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(33),i=s.n(n),o=s(34),a=!1;var u=function(e){a||s(32)},c=s(0)(i.a,o.a,u,null,null);c.options.__file="E:\\uniapp\\FeedBackStar\\components\\chatinput.vue",c.esModule&&Object.keys(c.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] chatinput.vue: functional components are not supported with templates, they should use render functions."),t.default=c.exports},32:function(e,t){},33:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"chat-input",data:function(){return{inputValue:""}},methods:{startRecognize:function(){var e={},t=this;e.engine="iFly",t.inputValue="",plus.speech.startRecognize(e,function(e){console.log(e),t.inputValue+=e},function(e){console.log("语音识别失败："+e.message)})},sendMessge:function(){""==this.inputValue.trim()?this.inputValue="":(this.$emit("send-message",{type:"text",content:this.inputValue}),this.inputValue="")}}}},34:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("view",{staticClass:"footer"},[s("view",{staticClass:"footer-left"},[s("view",{staticClass:"uni-icon uni-icon-mic",attrs:{eventid:"Qtv-0"},on:{tap:e.startRecognize}})]),s("view",{staticClass:"footer-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"}],staticClass:"input-text",attrs:{type:"text",eventid:"Jck-1"},domProps:{value:e.inputValue},on:{input:function(t){t.target.composing||(e.inputValue=t.target.value)}}})]),s("view",{staticClass:"footer-right",attrs:{eventid:"7Z0-2"},on:{tap:e.sendMessge}},[s("view",{attrs:{id:"msg-type"}},[e._v("发送")])])])};n._withStripped=!0;var i={render:n,staticRenderFns:[]};t.a=i},35:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(37),i=s.n(n),o=s(38),a=!1;var u=function(e){a||s(36)},c=s(0)(i.a,o.a,u,null,null);c.options.__file="E:\\uniapp\\FeedBackStar\\components\\messageshow.vue",c.esModule&&Object.keys(c.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] messageshow.vue: functional components are not supported with templates, they should use render functions."),t.default=c.exports},36:function(e,t){},37:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["message","id"]}},38:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("view",{staticClass:"m-item",attrs:{id:"message"+e.id}},[s("view",{staticClass:"m-left"},["home"==e.message.user?s("image",{staticClass:"head_icon",attrs:{src:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/app/homeHL.png"}}):e._e()]),s("view",{staticClass:"m-content"},[s("view",{staticClass:"m-content-head",class:{"m-content-head-right":"customer"==e.message.user}},[s("view",{class:"m-content-head-"+e.message.user},[e._v(e._s(e.message.content)+" ")])])]),s("view",{staticClass:"m-right"},["customer"==e.message.user?s("image",{staticClass:"head_icon",attrs:{src:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/app/customerHL.png"}}):e._e()])])};n._withStripped=!0;var i={render:n,staticRenderFns:[]};t.a=i}},[25]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/user/mine.js.map